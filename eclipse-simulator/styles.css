:root{
  color-scheme: light dark;
  --bg: #0b0e14;
  --fg: #e6e6e6;
  --muted: #9aa0a6;
  --accent: #4fc3f7;
  --sun: #ffcc33;
  --earth: #4caf50;
  --penumbra: rgba(150,150,150,0.2);
  --umbra: rgba(50,50,50,0.5);
  --moon: #ddd;
  --red: #b04a4a;
}

*{ box-sizing: border-box; }
html, body{
  margin: 0; padding: 0; height: 100%;
  background: var(--bg); color: var(--fg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
}
header{
  padding: 12px 16px; border-bottom: 1px solid #333; display:flex; align-items: baseline; gap: 16px;
}
header h1{ margin: 0; font-size: 20px; }
.meta{ color: var(--muted); display:flex; gap: 12px; font-size: 12px; }

main{ padding: 12px 16px; }
.panes{ display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.pane{ background: #11151c; border: 1px solid #2a2f3a; border-radius: 8px; padding: 12px; }
.pane h2{ margin: 4px 0 8px; font-size: 14px; color: var(--muted); }
.legend{ margin-top: 8px; display:flex; gap: 12px; align-items: center; color: var(--muted); font-size: 12px; }
.legend .chip{ display:inline-block; width:12px; height:12px; border-radius: 50%; margin-right:4px; vertical-align: middle; }
.legend .sun{ background: var(--sun); }
.legend .earth{ background: var(--earth); }
.legend .penumbra{ background: #999; opacity:.4 }
.legend .umbra{ background: #333; }
.legend .moon{ background: var(--moon); }

.info{ margin-top: 8px; color: var(--muted); font-size: 13px; display:flex; gap: 16px; }

.controls{ margin-top: 16px; background:#11151c; border: 1px solid #2a2f3a; border-radius: 8px; padding: 8px 12px; }
.timeline{ display:flex; align-items:center; gap: 12px; }
#timeSlider{ width: 100%; }
#playPause{ width: 36px; height: 32px; }
#speed{ height: 32px; }
.marks{ margin-top: 8px; font-size: 12px; color: var(--muted); display:flex; gap: 12px; flex-wrap: wrap; }
.mark{ padding:2px 6px; background:#0d1117; border:1px solid #2a2f3a; border-radius:4px; }

/* Data input section */
.data-input{ margin-top: 8px; }
.data-input summary{ cursor: pointer; color: var(--accent); margin: 6px 0; }
.data-input .grid{ display:grid; grid-template-columns: repeat(3, minmax(160px, 1fr)); gap: 8px; margin-top: 8px; }
.data-input label{ display:flex; flex-direction: column; gap: 4px; font-size: 12px; color: var(--muted); }
.data-input input{ height: 32px; padding: 4px 8px; background:#0d1117; border:1px solid #2a2f3a; border-radius:4px; color: var(--fg); }
.data-input .actions{ margin-top: 8px; display:flex; gap: 8px; }
.data-input button{ height: 32px; padding: 0 10px; }

footer{ padding: 8px 16px; color: var(--muted); font-size: 12px; }

@media (max-width: 1100px){
  .panes{ grid-template-columns: 1fr; }
  .data-input .grid{ grid-template-columns: repeat(2, minmax(160px, 1fr)); }
}
