<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á©∂Ê•µ„É©„Éº„É°„É≥„Ç´„Çπ„Çø„Éû„Ç§„Ç∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            text-align: center;
            padding: 30px;
            position: relative;
        }

        .header::before {
            content: 'üçú';
            font-size: 60px;
            display: block;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .form-section {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #e74c3c;
        }

        .section-title {
            color: #2c3e50;
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .option-card {
            background: white;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .option-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .option-card.selected {
            border-color: #e74c3c;
            background: #fff5f5;
        }

        .option-card input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .option-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .option-desc {
            font-size: 0.9rem;
            color: #666;
            line-height: 1.4;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .checkbox-item {
            background: white;
            border: 2px solid #e0e6ed;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .checkbox-item:hover {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .checkbox-item.checked {
            border-color: #27ae60;
            background: #f0fff4;
        }

        .checkbox-item input[type="checkbox"] {
            display: none;
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e0e6ed;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #e74c3c;
            cursor: pointer;
        }

        .ratio-slider-container {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e0e6ed;
        }

        .ratio-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .ratio-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e0e6ed;
            outline: none;
            -webkit-appearance: none;
        }

        .ratio-slider::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
        }

        .soup-preview {
            margin-top: 15px;
            padding: 15px;
            background: #fff9e6;
            border-radius: 10px;
            border-left: 4px solid #f39c12;
        }

        .soup-preview h5 {
            margin-bottom: 10px;
            color: #e67e22;
        }

        .soup-blend-item {
            display: flex;
            justify-content: space-between;
            padding: 3px 0;
            font-size: 0.9rem;
        }

        .special-options {
            background: #fff9e6;
            border-left-color: #f39c12;
        }

        .order-summary {
            background: #e8f5e8;
            border-left-color: #27ae60;
            margin-top: 30px;
        }

        .summary-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .price-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            text-align: center;
            margin: 20px 0;
        }

        .order-button {
            width: 100%;
            padding: 18px;
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .order-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .note-input {
            width: 100%;
            min-height: 80px;
            padding: 15px;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
            resize: vertical;
        }

        .note-input:focus {
            outline: none;
            border-color: #3498db;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        li {
            padding: 5px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        li:last-child {
            border-bottom: none;
        }
        
        ul ul {
            padding-left: 20px;
            margin-top: 5px;
        }
        
        ul ul li {
            padding: 2px 0;
            font-size: 0.9em;
            color: #666;
        }

        @media (max-width: 768px) {
            .option-grid {
                grid-template-columns: 1fr;
            }
            
            .checkbox-group {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .form-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Á©∂Ê•µ„É©„Éº„É°„É≥„Ç´„Çπ„Çø„Éû„Ç§„Ç∫</h1>
            <p class="subtitle">„ÅÇ„Å™„Åü„Å†„Åë„ÅÆ„Ç™„É™„Ç∏„Éä„É´„É©„Éº„É°„É≥„Çí‰Ωú„Çç„ÅÜ</p>
        </div>

        <div class="form-section">
            <!-- „Çπ„Éº„Éó„Éô„Éº„Çπ -->
            <div class="section">
                <h2 class="section-title">üç≤ „Çπ„Éº„Éó„Éô„Éº„Çπ</h2>
                <p style="margin-bottom: 15px; color: #666; font-size: 0.9rem;">
                    ‚ú® Ë§áÊï∞ÈÅ∏Êäû„Åß„Ç™„É™„Ç∏„Éä„É´„Éñ„É¨„É≥„Éâ„Çπ„Éº„Éó„Çí‰Ωú„Çå„Åæ„ÅôÔºÅ
                </p>
                <div class="checkbox-group" id="soup-options">
                    <div class="checkbox-item" data-soup="tonkotsu" data-price="0">
                        <input type="checkbox" id="soup-tonkotsu">
                        <div class="option-title">Ë±öÈ™®</div>
                        <div class="option-desc">ÊøÉÂéö„Åß„ÇØ„É™„Éº„Éü„Éº„Å™Ë±öÈ™®„ÅÆÊó®Âë≥</div>
                    </div>
                    <div class="checkbox-item" data-soup="shoyu" data-price="0">
                        <input type="checkbox" id="soup-shoyu">
                        <div class="option-title">ÈÜ§Ê≤π</div>
                        <div class="option-desc">ÊæÑ„Çì„Å†ÈÜ§Ê≤π„ÅÆ‰∏äÂìÅ„Å™Âë≥„Çè„ÅÑ</div>
                    </div>
                    <div class="checkbox-item" data-soup="miso" data-price="50">
                        <input type="checkbox" id="soup-miso">
                        <div class="option-title">Âë≥Âôå</div>
                        <div class="option-desc">„Ç≥„ÇØ„ÅÆ„ÅÇ„ÇãÂë≥Âôå„ÅÆÊ∑±„ÅÑÈ¢®Âë≥</div>
                    </div>
                    <div class="checkbox-item" data-soup="shio" data-price="0">
                        <input type="checkbox" id="soup-shio">
                        <div class="option-title">Â°©</div>
                        <div class="option-desc">„Åï„Å£„Å±„Çä„Å®„Åó„ÅüÂ°©Âë≥„ÅÆ„Çπ„Éº„Éó</div>
                    </div>
                    <div class="checkbox-item" data-soup="tsukemen" data-price="100">
                        <input type="checkbox" id="soup-tsukemen">
                        <div class="option-title">„Å§„ÅëÈ∫∫</div>
                        <div class="option-desc">ÊøÉÂéö„Å™„Å§„Åë„ÉÄ„É¨„Åß„ÅÑ„Åü„Å†„Åè</div>
                    </div>
                    <div class="checkbox-item" data-soup="tantanmen" data-price="150">
                        <input type="checkbox" id="soup-tantanmen">
                        <div class="option-title">ÊãÖ„ÄÖÈ∫∫</div>
                        <div class="option-desc">„Éî„É™Ëæõ„Åî„Åæ„ÅÆÊãÖ„ÄÖ„Çπ„Éº„Éó</div>
                    </div>
                    <div class="checkbox-item" data-soup="chicken" data-price="80">
                        <input type="checkbox" id="soup-chicken">
                        <div class="option-title">È∂èÁôΩÊπØ</div>
                        <div class="option-desc">ÊøÉÂéö„Å™È∂è„ÅÆÊó®Âë≥„Åü„Å£„Å∑„Çä</div>
                    </div>
                    <div class="checkbox-item" data-soup="seafood" data-price="120">
                        <input type="checkbox" id="soup-seafood">
                        <div class="option-title">È≠ö‰ªã</div>
                        <div class="option-desc">Êµ∑„ÅÆÂπ∏„ÅåÈ¶ô„Çã‰∏äÂìÅ„Å™Âë≥</div>
                    </div>
                </div>
                
                <!-- „Éü„ÉÉ„ÇØ„ÇπÊôÇ„ÅÆÊØîÁéáË™øÊï¥ -->
                <div id="soup-ratio-section" style="display: none; margin-top: 20px; padding: 15px; background: #f0f8ff; border-radius: 10px;">
                    <h4 style="margin-bottom: 15px; color: #2c3e50;">üéØ „Çπ„Éº„Éó„ÅÆÈÖçÂêàÊØîÁéá</h4>
                    <div id="soup-ratios"></div>
                </div>
            </div>

            <!-- È∫∫„ÅÆÁ®ÆÈ°û„ÉªÂ§™„Åï -->
            <div class="section">
                <h2 class="section-title">üçù È∫∫„ÅÆÂ§™„Åï„ÉªÁ®ÆÈ°û</h2>
                <div class="option-grid" id="noodle-options">
                    <div class="option-card" data-option="hosomen" data-price="0">
                        <input type="radio" name="noodle" value="hosomen" id="noodle-hosomen">
                        <div class="option-title">Á¥∞È∫∫</div>
                        <div class="option-desc">„Çπ„Éº„Éó„Åå„Çà„ÅèÁµ°„ÇÄÁ¥∞„ÇÅ„ÅÆÈ∫∫</div>
                    </div>
                    <div class="option-card" data-option="futomen" data-price="0">
                        <input type="radio" name="noodle" value="futomen" id="noodle-futomen">
                        <div class="option-title">Â§™È∫∫</div>
                        <div class="option-desc">È£ü„ÅπÂøú„Åà„ÅÆ„ÅÇ„ÇãÂ§™„ÇÅ„ÅÆÈ∫∫</div>
                    </div>
                    <div class="option-card" data-option="chijiremen" data-price="50">
                        <input type="radio" name="noodle" value="chijiremen" id="noodle-chijiremen">
                        <div class="option-title">Á∏Æ„ÇåÈ∫∫</div>
                        <div class="option-desc">„Çπ„Éº„Éó„Åå„Åó„Å£„Åã„ÇäÁµ°„ÇÄÁ∏Æ„ÇåÈ∫∫</div>
                    </div>
                    <div class="option-card" data-option="hiyamugi" data-price="100">
                        <input type="radio" name="noodle" value="hiyamugi" id="noodle-hiyamugi">
                        <div class="option-title">„Å≤„ÇÑ„ÇÄ„ÅéÈ∫∫</div>
                        <div class="option-desc">„Å§„Çã„Å§„Çã„Å®„Åó„ÅüÈ£üÊÑü„ÅÆÊ•µÁ¥∞È∫∫</div>
                    </div>
                </div>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>È∫∫„ÅÆÂõ∫„Åï</span>
                        <span id="hardness-value">ÊôÆÈÄö</span>
                    </div>
                    <input type="range" class="slider" id="noodle-hardness" min="1" max="7" value="4">
                </div>
            </div>

            <!-- Âü∫Êú¨„Éà„ÉÉ„Éî„É≥„Ç∞ -->
            <div class="section">
                <h2 class="section-title">ü•ö Âü∫Êú¨„Éà„ÉÉ„Éî„É≥„Ç∞</h2>
                <div class="checkbox-group" id="basic-toppings">
                    <div class="checkbox-item" data-topping="chashu" data-price="200">
                        <input type="checkbox" id="topping-chashu">
                        <label for="topping-chashu">„ÉÅ„É£„Éº„Ç∑„É•„Éº</label>
                    </div>
                    <div class="checkbox-item" data-topping="ajitsuke-tamago" data-price="100">
                        <input type="checkbox" id="topping-ajitsuke-tamago">
                        <label for="topping-ajitsuke-tamago">Âë≥Áéâ</label>
                    </div>
                    <div class="checkbox-item" data-topping="menma" data-price="80">
                        <input type="checkbox" id="topping-menma">
                        <label for="topping-menma">„É°„É≥„Éû</label>
                    </div>
                    <div class="checkbox-item" data-topping="nori" data-price="50">
                        <input type="checkbox" id="topping-nori">
                        <label for="topping-nori">Êµ∑Ëãî</label>
                    </div>
                    <div class="checkbox-item" data-topping="negi" data-price="50">
                        <input type="checkbox" id="topping-negi">
                        <label for="topping-negi">„Éç„ÇÆ</label>
                    </div>
                    <div class="checkbox-item" data-topping="moyashi" data-price="50">
                        <input type="checkbox" id="topping-moyashi">
                        <label for="topping-moyashi">„ÇÇ„ÇÑ„Åó</label>
                    </div>
                </div>
            </div>

            <!-- „Éó„É¨„Éü„Ç¢„É†„Éà„ÉÉ„Éî„É≥„Ç∞ -->
            <div class="section special-options">
                <h2 class="section-title">‚≠ê „Éó„É¨„Éü„Ç¢„É†„Éà„ÉÉ„Éî„É≥„Ç∞</h2>
                <div class="checkbox-group" id="premium-toppings">
                    <div class="checkbox-item" data-topping="premium-chashu" data-price="400">
                        <input type="checkbox" id="topping-premium-chashu">
                        <label for="topping-premium-chashu">ÂéöÂàá„Çä„ÉÅ„É£„Éº„Ç∑„É•„Éº</label>
                    </div>
                    <div class="checkbox-item" data-topping="kakuni" data-price="350">
                        <input type="checkbox" id="topping-kakuni">
                        <label for="topping-kakuni">ËßíÁÖÆ</label>
                    </div>
                    <div class="checkbox-item" data-topping="chicken-chashu" data-price="250">
                        <input type="checkbox" id="topping-chicken-chashu">
                        <label for="topping-chicken-chashu">È∂è„ÉÅ„É£„Éº„Ç∑„É•„Éº</label>
                    </div>
                    <div class="checkbox-item" data-topping="soft-shell-turtle" data-price="600">
                        <input type="checkbox" id="topping-soft-shell-turtle">
                        <label for="topping-soft-shell-turtle">„Åô„Å£„ÅΩ„Çì</label>
                    </div>
                    <div class="checkbox-item" data-topping="truffle" data-price="800">
                        <input type="checkbox" id="topping-truffle">
                        <label for="topping-truffle">„Éà„É™„É•„Éï</label>
                    </div>
                    <div class="checkbox-item" data-topping="wagyu" data-price="1000">
                        <input type="checkbox" id="topping-wagyu">
                        <label for="topping-wagyu">ÂíåÁâõ</label>
                    </div>
                </div>
            </div>

            <!-- ÈáéËèú„Éà„ÉÉ„Éî„É≥„Ç∞ -->
            <div class="section">
                <h2 class="section-title">ü•¨ ÈáéËèú„Éà„ÉÉ„Éî„É≥„Ç∞</h2>
                <div class="checkbox-group" id="vegetable-toppings">
                    <div class="checkbox-item" data-topping="yasai-mashi" data-price="100">
                        <input type="checkbox" id="topping-yasai-mashi">
                        <label for="topping-yasai-mashi">ÈáéËèú„Éû„Ç∑</label>
                    </div>
                    <div class="checkbox-item" data-topping="corn" data-price="80">
                        <input type="checkbox" id="topping-corn">
                        <label for="topping-corn">„Ç≥„Éº„É≥</label>
                    </div>
                    <div class="checkbox-item" data-topping="spinach" data-price="70">
                        <input type="checkbox" id="topping-spinach">
                        <label for="topping-spinach">„Åª„ÅÜ„Çå„ÇìËçâ</label>
                    </div>
                    <div class="checkbox-item" data-topping="cabbage" data-price="60">
                        <input type="checkbox" id="topping-cabbage">
                        <label for="topping-cabbage">„Ç≠„É£„Éô„ÉÑ</label>
                    </div>
                    <div class="checkbox-item" data-topping="wakame" data-price="60">
                        <input type="checkbox" id="topping-wakame">
                        <label for="topping-wakame">„Çè„Åã„ÇÅ</label>
                    </div>
                    <div class="checkbox-item" data-topping="kimchi" data-price="100">
                        <input type="checkbox" id="topping-kimchi">
                        <label for="topping-kimchi">„Ç≠„É†„ÉÅ</label>
                    </div>
                </div>
            </div>

            <!-- ÁâπÊÆä„Ç™„Éó„Ç∑„Éß„É≥ -->
            <div class="section special-options">
                <h2 class="section-title">üå∂Ô∏è ÁâπÊÆä„Ç™„Éó„Ç∑„Éß„É≥</h2>
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Ëæõ„Åï„É¨„Éô„É´</span>
                        <span id="spice-value">ÊôÆÈÄö</span>
                    </div>
                    <input type="range" class="slider" id="spice-level" min="0" max="10" value="2">
                </div>
                
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Ê≤π„ÅÆÈáè</span>
                        <span id="oil-value">ÊôÆÈÄö</span>
                    </div>
                    <input type="range" class="slider" id="oil-level" min="0" max="5" value="2">
                </div>

                <div class="checkbox-group" style="margin-top: 20px;">
                    <div class="checkbox-item" data-topping="extra-garlic" data-price="50">
                        <input type="checkbox" id="topping-extra-garlic">
                        <label for="topping-extra-garlic">„Éã„É≥„Éã„ÇØ</label>
                    </div>
                    <div class="checkbox-item" data-topping="extra-ginger" data-price="50">
                        <input type="checkbox" id="topping-extra-ginger">
                        <label for="topping-extra-ginger">ÁîüÂßú</label>
                    </div>
                    <div class="checkbox-item" data-topping="rayu" data-price="30">
                        <input type="checkbox" id="topping-rayu">
                        <label for="topping-rayu">„É©„ÉºÊ≤π</label>
                    </div>
                    <div class="checkbox-item" data-topping="black-pepper" data-price="30">
                        <input type="checkbox" id="topping-black-pepper">
                        <label for="topping-black-pepper">ÈªíËÉ°Ê§í</label>
                    </div>
                </div>
            </div>

            <!-- ÁâπÂà•„Å™Ë¶ÅÊúõ -->
            <div class="section">
                <h2 class="section-title">üìù ÁâπÂà•„Å™Ë¶ÅÊúõ„Éª„É°„É¢</h2>
                <textarea class="note-input" id="special-notes" placeholder="„Ç¢„É¨„É´„ÇÆ„Éº„ÇÑÁâπÂà•„Å™Ë¶ÅÊúõ„Åå„ÅÇ„Çå„Å∞„ÅîË®òÂÖ•„Åè„Å†„Åï„ÅÑ..."></textarea>
            </div>

            <!-- Ê≥®Êñá„Çµ„Éû„É™„Éº -->
            <div class="section order-summary">
                <h2 class="section-title">üìã „ÅîÊ≥®ÊñáÂÜÖÂÆπ</h2>
                <div class="summary-content" id="order-summary"></div>
                <div class="price-display">
                    ÂêàË®à: ¬•<span id="total-price">800</span>
                </div>
                <button class="order-button" onclick="placeOrder()">„Åì„ÅÆÂÜÖÂÆπ„ÅßÊ≥®Êñá„Åô„Çã üçú</button>
            </div>
        </div>
    </div>

    <script>
        const basePrice = 800;
        let currentOrder = {
            soups: [],
            soupRatios: {},
            noodle: '',
            noodleHardness: 'ÊôÆÈÄö',
            toppings: [],
            spiceLevel: 'ÊôÆÈÄö',
            oilLevel: 'ÊôÆÈÄö',
            specialNotes: ''
        };

        const hardnessLevels = ['„Éê„É™„Ç´„Çø', '„Ç´„Çø', '„ÇÑ„ÇÑÁ°¨', 'ÊôÆÈÄö', '„ÇÑ„ÇÑÊüî', 'Êüî„Çâ„Åã', '„Éê„É™„ÇÑ„Çè'];
        const spiceLevels = ['„Å™„Åó', 'Â∞ë„Åó', 'ÊôÆÈÄö', '‰∏≠Ëæõ', 'ËæõÂè£', 'Â§ßËæõ', 'ÊøÄËæõ', 'Âú∞ÁçÑ', 'Ê≠ªÁ•û', 'ÊÇ™È≠î', 'ÂÆáÂÆôÁ¥ö'];
        const oilLevels = ['„Å™„Åó', 'Â∞ë„Å™„ÇÅ', 'ÊôÆÈÄö', 'Â§ö„ÇÅ', '„ÇÆ„Éà„ÇÆ„Éà', 'Ë∂Ö„ÇÆ„Éà„ÇÆ„Éà'];

        document.addEventListener('DOMContentLoaded', function() {
            // „Çπ„Éº„Éó„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            document.querySelectorAll('#soup-options .checkbox-item').forEach(item => {
                item.addEventListener('click', function() {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    if (checkbox) {
                        checkbox.checked = !checkbox.checked;
                        updateSoupSelection();
                        updateSelection();
                    }
                });
            });

            // È∫∫„ÅÆ„É©„Ç∏„Ç™„Éú„Çø„É≥„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            document.querySelectorAll('#noodle-options .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    if (radio) {
                        radio.checked = true;
                        updateSelection();
                    }
                });
            });

            // „Éà„ÉÉ„Éî„É≥„Ç∞„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            document.querySelectorAll('.checkbox-item:not(#soup-options .checkbox-item)').forEach(item => {
                item.addEventListener('click', function() {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    if (checkbox) {
                        checkbox.checked = !checkbox.checked;
                        updateSelection();
                    }
                });
            });

            // „Çπ„É©„Ç§„ÉÄ„Éº„ÅÆ„Ç§„Éô„É≥„Éà
            document.getElementById('noodle-hardness').addEventListener('input', function() {
                document.getElementById('hardness-value').textContent = hardnessLevels[this.value - 1];
                updateSelection();
            });

            document.getElementById('spice-level').addEventListener('input', function() {
                document.getElementById('spice-value').textContent = spiceLevels[this.value];
                updateSelection();
            });

            document.getElementById('oil-level').addEventListener('input', function() {
                document.getElementById('oil-value').textContent = oilLevels[this.value];
                updateSelection();
            });

            document.getElementById('special-notes').addEventListener('input', updateSelection);

            updateSelection();
        });

        function updateSoupSelection() {
            const selectedSoups = document.querySelectorAll('#soup-options input[type="checkbox"]:checked');
            const ratioSection = document.getElementById('soup-ratio-section');
            const ratiosContainer = document.getElementById('soup-ratios');
            
            if (selectedSoups.length > 1) {
                ratioSection.style.display = 'block';
                ratiosContainer.innerHTML = '';
                
                selectedSoups.forEach((soup) => {
                    const soupName = soup.closest('.checkbox-item').querySelector('.option-title').textContent;
                    const soupId = soup.id.replace('soup-', '');
                    
                    if (!currentOrder.soupRatios[soupId]) {
                        currentOrder.soupRatios[soupId] = Math.round(100 / selectedSoups.length);
                    }
                    
                    const ratioDiv = document.createElement('div');
                    ratioDiv.className = 'ratio-slider-container';
                    ratioDiv.innerHTML = `
                        <div class="ratio-label">
                            <span>${soupName}</span>
                            <span id="ratio-${soupId}-value">${currentOrder.soupRatios[soupId]}%</span>
                        </div>
                        <input type="range" class="ratio-slider" id="ratio-${soupId}" 
                               min="10" max="80" value="${currentOrder.soupRatios[soupId]}">
                    `;
                    ratiosContainer.appendChild(ratioDiv);
                    
                    document.getElementById(`ratio-${soupId}`).addEventListener('input', function() {
                        updateSoupRatio(soupId, this.value);
                    });
                });
                
                updateSoupPreview();
            } else {
                ratioSection.style.display = 'none';
                currentOrder.soupRatios = {};
            }
        }

        function updateSoupRatio(soupId, value) {
            currentOrder.soupRatios[soupId] = parseInt(value);
            document.getElementById(`ratio-${soupId}-value`).textContent = value + '%';
            
            autoAdjustRatios(soupId);
            updateSoupPreview();
            updateSelection();
        }

        function autoAdjustRatios(changedSoupId) {
            const allSoupIds = Object.keys(currentOrder.soupRatios);
            const changedValue = currentOrder.soupRatios[changedSoupId];
            const remainingValue = 100 - changedValue;
            const otherSoups = allSoupIds.filter(id => id !== changedSoupId);
            
            if (otherSoups.length > 0) {
                const equalShare = Math.round(remainingValue / otherSoups.length);
                let totalAssigned = changedValue;
                
                otherSoups.forEach((soupId, index) => {
                    if (index === otherSoups.length - 1) {
                        currentOrder.soupRatios[soupId] = 100 - totalAssigned;
                    } else {
                        currentOrder.soupRatios[soupId] = equalShare;
                        totalAssigned += equalShare;
                    }
                    
                    const slider = document.getElementById(`ratio-${soupId}`);
                    const valueDisplay = document.getElementById(`ratio-${soupId}-value`);
                    if (slider && valueDisplay) {
                        slider.value = currentOrder.soupRatios[soupId];
                        valueDisplay.textContent = currentOrder.soupRatios[soupId] + '%';
                    }
                });
            }
        }

        function updateSoupPreview() {
            const ratiosContainer = document.getElementById('soup-ratios');
            const existingPreview = document.querySelector('.soup-preview');
            if (existingPreview) {
                existingPreview.remove();
            }
            
            const selectedSoups = document.querySelectorAll('#soup-options input[type="checkbox"]:checked');
            if (selectedSoups.length > 1) {
                const previewDiv = document.createElement('div');
                previewDiv.className = 'soup-preview';
                previewDiv.innerHTML = '<h5>üç≤ „ÅÇ„Å™„Åü„ÅÆ„Ç™„É™„Ç∏„Éä„É´„Éñ„É¨„É≥„Éâ</h5>';
                
                selectedSoups.forEach(soup => {
                    const soupName = soup.closest('.checkbox-item').querySelector('.option-title').textContent;
                    const soupId = soup.id.replace('soup-', '');
                    const ratio = currentOrder.soupRatios[soupId] || 0;
                    const blendItem = document.createElement('div');
                    blendItem.className = 'soup-blend-item';
                    blendItem.innerHTML = `<span>${soupName}</span><span>${ratio}%</span>`;
                    previewDiv.appendChild(blendItem);
                });
                
                ratiosContainer.parentNode.appendChild(previewDiv);
            }
        }

        function updateSelection() {
            // ÈÅ∏ÊäûÁä∂ÊÖã„ÅÆË¶ñË¶öÁöÑÊõ¥Êñ∞
            document.querySelectorAll('.option-card').forEach(card => {
                const radio = card.querySelector('input[type="radio"]');
                if (radio && radio.checked) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });

            document.querySelectorAll('.checkbox-item').forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                if (checkbox && checkbox.checked) {
                    item.classList.add('checked');
                } else {
                    item.classList.remove('checked');
                }
            });

            updateOrderSummary();
        }

        function updateOrderSummary() {
            let totalPrice = basePrice;
            let summaryHTML = '<h3>üìù ÈÅ∏ÊäûÂÜÖÂÆπ</h3><ul>';

            // „Çπ„Éº„Éó
            const selectedSoups = document.querySelectorAll('#soup-options input[type="checkbox"]:checked');
            if (selectedSoups.length > 0) {
                let soupNames = [];
                let soupTotalPrice = 0;
                
                selectedSoups.forEach(soup => {
                    const soupCard = soup.closest('.checkbox-item');
                    const soupName = soupCard.querySelector('.option-title').textContent;
                    const soupPrice = parseInt(soupCard.dataset.price);
                    const soupId = soup.id.replace('soup-', '');
                    
                    if (selectedSoups.length > 1 && currentOrder.soupRatios[soupId]) {
                        soupNames.push(`${soupName}(${currentOrder.soupRatios[soupId]}%)`);
                        soupTotalPrice += soupPrice * (currentOrder.soupRatios[soupId] / 100);
                    } else {
                        soupNames.push(soupName);
                        soupTotalPrice += soupPrice;
                    }
                });
                
                const soupDisplay = selectedSoups.length > 1 ? 
                    `${soupNames.join(' + ')} „Éñ„É¨„É≥„Éâ` : soupNames[0];
                summaryHTML += `<li><strong>„Çπ„Éº„Éó:</strong> ${soupDisplay} (+¬•${Math.round(soupTotalPrice)})</li>`;
                totalPrice += Math.round(soupTotalPrice);
                currentOrder.soups = soupNames;
            }

            // È∫∫
            const selectedNoodle = document.querySelector('input[name="noodle"]:checked');
            if (selectedNoodle) {
                const noodleCard = selectedNoodle.closest('.option-card');
                const noodleName = noodleCard.querySelector('.option-title').textContent;
                const noodlePrice = parseInt(noodleCard.dataset.price);
                const hardness = document.getElementById('hardness-value').textContent;
                summaryHTML += `<li><strong>È∫∫:</strong> ${noodleName} (${hardness}) (+¬•${noodlePrice})</li>`;
                totalPrice += noodlePrice;
                currentOrder.noodle = noodleName;
                currentOrder.noodleHardness = hardness;
            }

            // „Éà„ÉÉ„Éî„É≥„Ç∞
            const selectedToppings = document.querySelectorAll('.checkbox-item.checked:not(#soup-options .checkbox-item)');
            let toppingsArray = [];
            if (selectedToppings.length > 0) {
                summaryHTML += '<li><strong>„Éà„ÉÉ„Éî„É≥„Ç∞:</strong><ul>';
                selectedToppings.forEach(topping => {
                    const toppingName = topping.querySelector('label').textContent;
                    const toppingPrice = parseInt(topping.dataset.price);
                    summaryHTML += `<li>${toppingName} (+¬•${toppingPrice})</li>`;
                    totalPrice += toppingPrice;
                    toppingsArray.push(toppingName);
                });
                summaryHTML += '</ul></li>';
            }
            currentOrder.toppings = toppingsArray;

            // ÁâπÊÆä„Ç™„Éó„Ç∑„Éß„É≥
            const spiceLevel = document.getElementById('spice-value').textContent;
            const oilLevel = document.getElementById('oil-value').textContent;
            summaryHTML += `<li><strong>Ëæõ„Åï:</strong> ${spiceLevel}</li>`;
            summaryHTML += `<li><strong>Ê≤π„ÅÆÈáè:</strong> ${oilLevel}</li>`;
            currentOrder.spiceLevel = spiceLevel;
            currentOrder.oilLevel = oilLevel;

            // ÁâπÂà•„Å™Ë¶ÅÊúõ
            const specialNotes = document.getElementById('special-notes').value.trim();
            if (specialNotes) {
                summaryHTML += `<li><strong>ÁâπÂà•„Å™Ë¶ÅÊúõ:</strong> ${specialNotes}</li>`;
                currentOrder.specialNotes = specialNotes;
            }

            summaryHTML += '</ul>';

            document.getElementById('order-summary').innerHTML = summaryHTML;
            document.getElementById('total-price').textContent = totalPrice.toLocaleString();
        }

        function placeOrder() {
            const selectedSoups = document.querySelectorAll('#soup-options input[type="checkbox"]:checked');
            if (selectedSoups.length === 0 || !currentOrder.noodle) {
                alert('„Çπ„Éº„Éó„Éô„Éº„Çπ„Å®È∫∫„ÅÆÁ®ÆÈ°û„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }

            let orderText = 'üçú „ÅîÊ≥®Êñá„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ\n\n';
            
            if (selectedSoups.length > 1) {
                orderText += `„Çπ„Éº„Éó: ${currentOrder.soups.join(' + ')} „Éñ„É¨„É≥„Éâ\n`;
                orderText += 'ÈÖçÂêàÊØîÁéá:\n';
                selectedSoups.forEach(soup => {
                    const soupName = soup.closest('.checkbox-item').querySelector('.option-title').textContent;
                    const soupId = soup.id.replace('soup-', '');
                    if (currentOrder.soupRatios[soupId]) {
                        orderText += `  ‚Ä¢ ${soupName}: ${currentOrder.soupRatios[soupId]}%\n`;
                    }
                });
            } else {
                orderText += `„Çπ„Éº„Éó: ${currentOrder.soups[0]}\n`;
            }
            
            orderText += `È∫∫: ${currentOrder.noodle} (${currentOrder.noodleHardness})\n`;
            orderText += `Ëæõ„Åï: ${currentOrder.spiceLevel}\n`;
            orderText += `Ê≤π„ÅÆÈáè: ${currentOrder.oilLevel}\n`;
            
            if (currentOrder.toppings.length > 0) {
                orderText += `„Éà„ÉÉ„Éî„É≥„Ç∞: ${currentOrder.toppings.join(', ')}\n`;
            }
            
            if (currentOrder.specialNotes) {
                orderText += `ÁâπÂà•„Å™Ë¶ÅÊúõ: ${currentOrder.specialNotes}\n`;
            }
            
            orderText += `\nÂêàË®àÈáëÈ°ç: ¬•${document.getElementById('total-price').textContent}\n\n`;
            
            if (selectedSoups.length > 1) {
                orderText += 'üé® „Ç™„É™„Ç∏„Éä„É´„Éñ„É¨„É≥„Éâ„ÅÆË™øÁêÜ„Å´„ÅØÂ∞ë„ÅóÊôÇÈñì„Åå„Åã„Åã„Çä„Åæ„Åô„ÄÇ\n';
                orderText += 'Ë™øÁêÜÊôÇÈñì„ÅØÁ¥Ñ15-20ÂàÜ„Åß„Åô„ÄÇ„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑÔºÅ';
            } else {
                orderText += 'Ë™øÁêÜÊôÇÈñì„ÅØÁ¥Ñ10-15ÂàÜ„Åß„Åô„ÄÇ„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑÔºÅ';
            }

            alert(orderText);
        }
    </script>
</body>
</html>